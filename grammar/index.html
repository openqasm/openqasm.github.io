
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>OpenQasm 3.0 Grammar &#8212; OpenQASM Live Specification  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/colors.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release Notes" href="../release_notes.html" />
    <link rel="prev" title="OpenPulse Grammar" href="../language/openpulse.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="openqasm-3-0-grammar">
<h1>OpenQasm 3.0 Grammar<a class="headerlink" href="#openqasm-3-0-grammar" title="Permalink to this headline">Â¶</a></h1>
<p>OpenQasm 3.0 Grammar specification based in <a class="reference external" href="https://www.antlr.org/">ANTLR</a> parser generator.</p>
<p>The ANTLR grammar is intended to serve as the official reference grammar for OpenQASM3 and defines
the set of syntactically valid statements in the language. ANTLR is used because it provides a
human-readable EBNF format that is computer-validatable. It provides an auto-generated parser that is
used to validate the example files (see <cite>openqasm/examples/</cite>). As an extension, it can be used
to check whether a source file is parseable OpenQASM3 (note this does not ensure that the OpenQASM3 is semantically correct).</p>
<p>The ANTLR parser does not attempt to be performant or construct
an AST. Furthermore, it does not conduct any semantic analysis.</p>
<p>The ANTLR grammar may serve as a guide when developing compiler tooling for OpenQASM3.</p>
<div class="highlight-antlr notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="k">parser</span><span class="w"> </span><span class="k">grammar</span><span class="w"> </span><span class="nc">qasm3Parser</span><span class="p">;</span><span class="w"></span>
<span class="linenos">  2</span>
<span class="linenos">  3</span><span class="k">options</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">  4</span><span class="w">    </span><span class="nv">tokenVocab</span><span class="w"> </span><span class="p">=</span><span class="w"> </span>qasm3Lexer<span class="p">;</span><span class="w"></span>
<span class="linenos">  5</span><span class="p">}</span><span class="w"></span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="nl">program</span><span class="p">:</span><span class="w"> </span><span class="nv">header</span><span class="w"> </span><span class="o">(</span><span class="nv">globalStatement</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">statement</span><span class="o">)*</span><span class="p">;</span><span class="w"></span>
<span class="linenos">  8</span><span class="nl">header</span><span class="p">:</span><span class="w"> </span><span class="nv">version</span><span class="o">?</span><span class="w"> </span><span class="nv">include</span><span class="o">*</span><span class="w"> </span><span class="nv">io</span><span class="o">*</span><span class="p">;</span><span class="w"></span>
<span class="linenos">  9</span><span class="nl">version</span><span class="p">:</span><span class="w"> </span><span class="no">OPENQASM</span><span class="w"> </span><span class="o">(</span><span class="no">DecimalIntegerLiteral</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">FloatLiteral</span><span class="o">)</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 10</span><span class="nl">include</span><span class="p">:</span><span class="w"> </span><span class="no">INCLUDE</span><span class="w"> </span><span class="no">StringLiteral</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 11</span>
<span class="linenos"> 12</span><span class="nl">ioIdentifier</span><span class="p">:</span><span class="w"> </span><span class="no">INPUT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">OUTPUT</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 13</span><span class="nl">io</span><span class="p">:</span><span class="w"> </span><span class="nv">ioIdentifier</span><span class="w"> </span><span class="nv">classicalType</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="nl">globalStatement</span><span class="w"></span>
<span class="linenos"> 16</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">subroutineDefinition</span><span class="w"></span>
<span class="linenos"> 17</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">externDeclaration</span><span class="w"></span>
<span class="linenos"> 18</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumGateDefinition</span><span class="w"></span>
<span class="linenos"> 19</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">calibration</span><span class="w"></span>
<span class="linenos"> 20</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumDeclarationStatement</span><span class="w">  </span><span class="c">// qubits are declared globally</span><span class="w"></span>
<span class="linenos"> 21</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">pragma</span><span class="w"></span>
<span class="linenos"> 22</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 23</span>
<span class="linenos"> 24</span><span class="nl">statement</span><span class="w"></span>
<span class="linenos"> 25</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">expressionStatement</span><span class="w"></span>
<span class="linenos"> 26</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">assignmentStatement</span><span class="w"></span>
<span class="linenos"> 27</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">classicalDeclarationStatement</span><span class="w"></span>
<span class="linenos"> 28</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">branchingStatement</span><span class="w"></span>
<span class="linenos"> 29</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">loopStatement</span><span class="w"></span>
<span class="linenos"> 30</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">endStatement</span><span class="w"></span>
<span class="linenos"> 31</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">aliasStatement</span><span class="w"></span>
<span class="linenos"> 32</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumStatement</span><span class="w"></span>
<span class="linenos"> 33</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span><span class="nl">quantumDeclarationStatement</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nv">quantumDeclaration</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 36</span><span class="nl">classicalDeclarationStatement</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="nv">classicalDeclaration</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">constantDeclaration</span><span class="o">)</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 37</span><span class="nl">classicalAssignment</span><span class="p">:</span><span class="w"> </span><span class="nv">indexedIdentifier</span><span class="w"> </span><span class="nv">assignmentOperator</span><span class="w"> </span><span class="nv">expression</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 38</span><span class="nl">assignmentStatement</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="nv">classicalAssignment</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumMeasurementAssignment</span><span class="o">)</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 39</span><span class="nl">returnSignature</span><span class="p">:</span><span class="w"> </span><span class="no">ARROW</span><span class="w"> </span><span class="nv">classicalType</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span><span class="c">/*** Types and Casting ***/</span><span class="w"></span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span><span class="nl">designator</span><span class="p">:</span><span class="w"> </span><span class="no">LBRACKET</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="no">RBRACKET</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 44</span><span class="nl">identifierList</span><span class="p">:</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="no">Identifier</span><span class="o">)*</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span><span class="c">/** Quantum Types **/</span><span class="w"></span>
<span class="linenos"> 47</span><span class="nl">quantumDeclaration</span><span class="p">:</span><span class="w"> </span><span class="no">QREG</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="nv">designator</span><span class="o">?</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">QUBIT</span><span class="w"> </span><span class="nv">designator</span><span class="o">?</span><span class="w"> </span><span class="no">Identifier</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 48</span><span class="nl">quantumArgument</span><span class="p">:</span><span class="w"> </span><span class="no">QREG</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="nv">designator</span><span class="o">?</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">QUBIT</span><span class="w"> </span><span class="nv">designator</span><span class="o">?</span><span class="w"> </span><span class="no">Identifier</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 49</span>
<span class="linenos"> 50</span><span class="c">/** Classical Types **/</span><span class="w"></span>
<span class="linenos"> 51</span><span class="nl">bitType</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="no">BIT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">CREG</span><span class="o">)</span><span class="w"> </span><span class="nv">designator</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 52</span><span class="nl">singleDesignatorType</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="no">INT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">UINT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">FLOAT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">ANGLE</span><span class="o">)</span><span class="w"> </span><span class="nv">designator</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 53</span><span class="nl">noDesignatorType</span><span class="p">:</span><span class="w"> </span><span class="no">BOOL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">DURATION</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">STRETCH</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 54</span>
<span class="linenos"> 55</span><span class="nl">nonArrayType</span><span class="w"></span>
<span class="linenos"> 56</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">singleDesignatorType</span><span class="w"></span>
<span class="linenos"> 57</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">noDesignatorType</span><span class="w"></span>
<span class="linenos"> 58</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">bitType</span><span class="w"></span>
<span class="linenos"> 59</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">COMPLEX</span><span class="w"> </span><span class="no">LBRACKET</span><span class="w"> </span><span class="nv">numericType</span><span class="w"> </span><span class="no">RBRACKET</span><span class="w"></span>
<span class="linenos"> 60</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 61</span>
<span class="linenos"> 62</span><span class="nl">arrayType</span><span class="p">:</span><span class="w"> </span><span class="no">ARRAY</span><span class="w"> </span><span class="no">LBRACKET</span><span class="w"> </span><span class="nv">nonArrayType</span><span class="w"> </span><span class="no">COMMA</span><span class="w"> </span><span class="nv">expressionList</span><span class="w"> </span><span class="no">RBRACKET</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 63</span><span class="nl">arrayReferenceTypeDimensionSpecifier</span><span class="w"></span>
<span class="linenos"> 64</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">expressionList</span><span class="w"></span>
<span class="linenos"> 65</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">DIM</span><span class="w"> </span><span class="no">EQUALS</span><span class="w"> </span><span class="nv">expression</span><span class="w"></span>
<span class="linenos"> 66</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 67</span><span class="nl">arrayReferenceType</span><span class="p">:</span><span class="w"> </span><span class="no">ARRAY</span><span class="w"> </span><span class="no">LBRACKET</span><span class="w"> </span><span class="nv">nonArrayType</span><span class="w"> </span><span class="no">COMMA</span><span class="w"> </span><span class="nv">arrayReferenceTypeDimensionSpecifier</span><span class="w"> </span><span class="no">RBRACKET</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 68</span>
<span class="linenos"> 69</span><span class="nl">classicalType</span><span class="w"></span>
<span class="linenos"> 70</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">nonArrayType</span><span class="w"></span>
<span class="linenos"> 71</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">arrayType</span><span class="w"></span>
<span class="linenos"> 72</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 73</span>
<span class="linenos"> 74</span><span class="c">// numeric OpenQASM types</span><span class="w"></span>
<span class="linenos"> 75</span><span class="nl">numericType</span><span class="p">:</span><span class="w"> </span><span class="nv">singleDesignatorType</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span><span class="nl">constantDeclaration</span><span class="p">:</span><span class="w"> </span><span class="no">CONST</span><span class="w"> </span><span class="nv">classicalType</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="nv">equalsExpression</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 78</span>
<span class="linenos"> 79</span><span class="c">// if multiple variables declared at once, either none are assigned or all are assigned</span><span class="w"></span>
<span class="linenos"> 80</span><span class="c">// prevents ambiguity w/ qubit arguments in subroutine calls</span><span class="w"></span>
<span class="linenos"> 81</span><span class="nl">singleDesignatorDeclaration</span><span class="p">:</span><span class="w"> </span><span class="nv">singleDesignatorType</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="nv">equalsExpression</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span><span class="nl">noDesignatorDeclaration</span><span class="p">:</span><span class="w"> </span><span class="nv">noDesignatorType</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="nv">equalsExpression</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 84</span>
<span class="linenos"> 85</span><span class="nl">bitDeclaration</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="no">CREG</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="nv">designator</span><span class="o">?</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">BIT</span><span class="w"> </span><span class="nv">designator</span><span class="o">?</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="nv">equalsExpression</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 86</span><span class="nl">complexDeclaration</span><span class="p">:</span><span class="w"> </span><span class="no">COMPLEX</span><span class="w"> </span><span class="no">LBRACKET</span><span class="w"> </span><span class="nv">numericType</span><span class="w"> </span><span class="no">RBRACKET</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="nv">equalsExpression</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 87</span>
<span class="linenos"> 88</span><span class="nl">arrayInitializer</span><span class="p">:</span><span class="w"></span>
<span class="linenos"> 89</span><span class="w">    </span><span class="no">LBRACE</span><span class="w"></span>
<span class="linenos"> 90</span><span class="w">    </span><span class="o">(</span><span class="nv">expression</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">arrayInitializer</span><span class="o">)</span><span class="w"></span>
<span class="linenos"> 91</span><span class="w">    </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="o">(</span><span class="nv">expression</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">arrayInitializer</span><span class="o">))*</span><span class="w"></span>
<span class="linenos"> 92</span><span class="w">    </span><span class="no">RBRACE</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 93</span><span class="nl">arrayDeclaration</span><span class="p">:</span><span class="w"> </span><span class="nv">arrayType</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="o">(</span><span class="no">EQUALS</span><span class="w"> </span><span class="o">(</span><span class="nv">arrayInitializer</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">expression</span><span class="o">))?</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 94</span>
<span class="linenos"> 95</span><span class="nl">classicalDeclaration</span><span class="w"></span>
<span class="linenos"> 96</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">singleDesignatorDeclaration</span><span class="w"></span>
<span class="linenos"> 97</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">noDesignatorDeclaration</span><span class="w"></span>
<span class="linenos"> 98</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">bitDeclaration</span><span class="w"></span>
<span class="linenos"> 99</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">complexDeclaration</span><span class="w"></span>
<span class="linenos">100</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">arrayDeclaration</span><span class="w"></span>
<span class="linenos">101</span><span class="p">;</span><span class="w"></span>
<span class="linenos">102</span>
<span class="linenos">103</span><span class="nl">classicalTypeList</span><span class="p">:</span><span class="w"> </span><span class="nv">classicalType</span><span class="w"> </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="nv">classicalType</span><span class="o">)*</span><span class="p">;</span><span class="w"></span>
<span class="linenos">104</span><span class="nl">classicalArgument</span><span class="w"></span>
<span class="linenos">105</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="nv">singleDesignatorType</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">noDesignatorType</span><span class="o">)</span><span class="w"> </span><span class="no">Identifier</span><span class="w"></span>
<span class="linenos">106</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">CREG</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="nv">designator</span><span class="o">?</span><span class="w"></span>
<span class="linenos">107</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">BIT</span><span class="w"> </span><span class="nv">designator</span><span class="o">?</span><span class="w"> </span><span class="no">Identifier</span><span class="w"></span>
<span class="linenos">108</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">COMPLEX</span><span class="w"> </span><span class="no">LBRACKET</span><span class="w"> </span><span class="nv">numericType</span><span class="w"> </span><span class="no">RBRACKET</span><span class="w"> </span><span class="no">Identifier</span><span class="w"></span>
<span class="linenos">109</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">(</span><span class="no">CONST</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">MUTABLE</span><span class="o">)</span><span class="w"> </span><span class="nv">arrayReferenceType</span><span class="w"> </span><span class="no">Identifier</span><span class="w"></span>
<span class="linenos">110</span><span class="p">;</span><span class="w"></span>
<span class="linenos">111</span>
<span class="linenos">112</span><span class="nl">classicalArgumentList</span><span class="p">:</span><span class="w"> </span><span class="nv">classicalArgument</span><span class="w"> </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="nv">classicalArgument</span><span class="o">)*</span><span class="p">;</span><span class="w"></span>
<span class="linenos">113</span>
<span class="linenos">114</span><span class="nl">anyTypeArgument</span><span class="p">:</span><span class="w"> </span><span class="nv">classicalArgument</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumArgument</span><span class="p">;</span><span class="w"></span>
<span class="linenos">115</span><span class="nl">anyTypeArgumentList</span><span class="p">:</span><span class="w"> </span><span class="nv">anyTypeArgument</span><span class="w"> </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="nv">anyTypeArgument</span><span class="o">)*</span><span class="p">;</span><span class="w"></span>
<span class="linenos">116</span>
<span class="linenos">117</span><span class="c">/** Aliasing **/</span><span class="w"></span>
<span class="linenos">118</span><span class="nl">aliasInitializer</span><span class="p">:</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="o">(</span><span class="no">DOUBLE_PLUS</span><span class="w"> </span><span class="nv">expression</span><span class="o">)*</span><span class="p">;</span><span class="w"></span>
<span class="linenos">119</span><span class="nl">aliasStatement</span><span class="p">:</span><span class="w"> </span><span class="no">LET</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="no">EQUALS</span><span class="w"> </span><span class="nv">aliasInitializer</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="p">;</span><span class="w"></span>
<span class="linenos">120</span>
<span class="linenos">121</span><span class="c">/** Register Concatenation and Slicing **/</span><span class="w"></span>
<span class="linenos">122</span>
<span class="linenos">123</span><span class="nl">rangeDefinition</span><span class="p">:</span><span class="w"> </span><span class="nv">expression</span><span class="o">?</span><span class="w"> </span><span class="no">COLON</span><span class="w"> </span><span class="nv">expression</span><span class="o">?</span><span class="w"> </span><span class="o">(</span><span class="no">COLON</span><span class="w"> </span><span class="nv">expression</span><span class="o">)?</span><span class="p">;</span><span class="w"></span>
<span class="linenos">124</span>
<span class="linenos">125</span><span class="c">/*** Gates and Built-in Quantum Instructions ***/</span><span class="w"></span>
<span class="linenos">126</span>
<span class="linenos">127</span><span class="nl">quantumGateDefinition</span><span class="w"></span>
<span class="linenos">128</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="no">GATE</span><span class="w"> </span><span class="nv">quantumGateSignature</span><span class="w"> </span><span class="nv">quantumBlock</span><span class="w"></span>
<span class="linenos">129</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">130</span>
<span class="linenos">131</span><span class="nl">quantumGateSignature</span><span class="w"></span>
<span class="linenos">132</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">quantumGateName</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">identifierList</span><span class="o">?</span><span class="w"> </span><span class="no">RPAREN</span><span class="w"> </span><span class="o">)?</span><span class="w"> </span><span class="nv">identifierList</span><span class="w"></span>
<span class="linenos">133</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">134</span>
<span class="linenos">135</span><span class="nl">quantumGateName</span><span class="p">:</span><span class="w"> </span><span class="no">U_</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">CX</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">Identifier</span><span class="p">;</span><span class="w"></span>
<span class="linenos">136</span><span class="nl">quantumBlock</span><span class="w"></span>
<span class="linenos">137</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="no">LBRACE</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="nv">quantumStatement</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumLoop</span><span class="w"> </span><span class="o">)*</span><span class="w"> </span><span class="no">RBRACE</span><span class="w"></span>
<span class="linenos">138</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">139</span>
<span class="linenos">140</span><span class="c">// loops containing only quantum statements allowed in gates</span><span class="w"></span>
<span class="linenos">141</span><span class="nl">quantumLoop</span><span class="w"></span>
<span class="linenos">142</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">loopSignature</span><span class="w"> </span><span class="nv">quantumLoopBlock</span><span class="w"></span>
<span class="linenos">143</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">144</span>
<span class="linenos">145</span><span class="nl">quantumLoopBlock</span><span class="w"></span>
<span class="linenos">146</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">quantumStatement</span><span class="w"></span>
<span class="linenos">147</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">LBRACE</span><span class="w"> </span><span class="nv">quantumStatement</span><span class="o">*</span><span class="w"> </span><span class="no">RBRACE</span><span class="w"></span>
<span class="linenos">148</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">149</span>
<span class="linenos">150</span><span class="nl">quantumStatement</span><span class="w"></span>
<span class="linenos">151</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">quantumInstruction</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="w"></span>
<span class="linenos">152</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">timingStatement</span><span class="w"></span>
<span class="linenos">153</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">154</span>
<span class="linenos">155</span><span class="nl">quantumInstruction</span><span class="w"></span>
<span class="linenos">156</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">quantumGateCall</span><span class="w"></span>
<span class="linenos">157</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumPhase</span><span class="w"></span>
<span class="linenos">158</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumMeasurement</span><span class="w"></span>
<span class="linenos">159</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumReset</span><span class="w"></span>
<span class="linenos">160</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumBarrier</span><span class="w"></span>
<span class="linenos">161</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">162</span>
<span class="linenos">163</span><span class="nl">quantumBarrier</span><span class="p">:</span><span class="w"> </span><span class="no">BARRIER</span><span class="w"> </span><span class="o">(</span><span class="nv">indexedIdentifier</span><span class="w"> </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="nv">indexedIdentifier</span><span class="o">)*)?</span><span class="p">;</span><span class="w"></span>
<span class="linenos">164</span><span class="nl">quantumMeasurement</span><span class="p">:</span><span class="w"> </span><span class="no">MEASURE</span><span class="w"> </span><span class="nv">indexedIdentifier</span><span class="p">;</span><span class="w"></span>
<span class="linenos">165</span><span class="nl">quantumPhase</span><span class="p">:</span><span class="w"> </span><span class="nv">quantumGateModifier</span><span class="o">*</span><span class="w"> </span><span class="no">GPHASE</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="no">RPAREN</span><span class="w"> </span><span class="o">(</span><span class="nv">indexedIdentifier</span><span class="w"> </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="nv">indexedIdentifier</span><span class="o">)*)?</span><span class="p">;</span><span class="w"></span>
<span class="linenos">166</span><span class="nl">quantumReset</span><span class="p">:</span><span class="w"> </span><span class="no">RESET</span><span class="w"> </span><span class="nv">indexedIdentifier</span><span class="p">;</span><span class="w"></span>
<span class="linenos">167</span>
<span class="linenos">168</span><span class="nl">quantumMeasurementAssignment</span><span class="w"></span>
<span class="linenos">169</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">quantumMeasurement</span><span class="w"> </span><span class="o">(</span><span class="no">ARROW</span><span class="w"> </span><span class="nv">indexedIdentifier</span><span class="o">)?</span><span class="w"></span>
<span class="linenos">170</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">indexedIdentifier</span><span class="w"> </span><span class="no">EQUALS</span><span class="w"> </span><span class="nv">quantumMeasurement</span><span class="w"></span>
<span class="linenos">171</span><span class="p">;</span><span class="w"></span>
<span class="linenos">172</span>
<span class="linenos">173</span><span class="nl">powModifier</span><span class="p">:</span><span class="w"> </span><span class="no">POW</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="no">RPAREN</span><span class="p">;</span><span class="w"></span>
<span class="linenos">174</span><span class="nl">ctrlModifier</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="no">CTRL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">NEGCTRL</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="no">RPAREN</span><span class="w"> </span><span class="o">)?</span><span class="p">;</span><span class="w"></span>
<span class="linenos">175</span><span class="nl">quantumGateModifier</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="no">INV</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">powModifier</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">ctrlModifier</span><span class="o">)</span><span class="w"> </span><span class="no">AT</span><span class="p">;</span><span class="w"></span>
<span class="linenos">176</span><span class="nl">quantumGateCall</span><span class="p">:</span><span class="w"> </span><span class="nv">quantumGateModifier</span><span class="o">*</span><span class="w"> </span><span class="nv">quantumGateName</span><span class="w"> </span><span class="o">(</span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">expressionList</span><span class="w"> </span><span class="no">RPAREN</span><span class="o">)?</span><span class="w"> </span><span class="nv">indexedIdentifier</span><span class="w"> </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="nv">indexedIdentifier</span><span class="o">)*</span><span class="p">;</span><span class="w"></span>
<span class="linenos">177</span>
<span class="linenos">178</span><span class="c">/*** Classical Instructions ***/</span><span class="w"></span>
<span class="linenos">179</span>
<span class="linenos">180</span><span class="nl">unaryOperator</span><span class="p">:</span><span class="w"> </span><span class="no">TILDE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">EXCLAMATION_POINT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">MINUS</span><span class="p">;</span><span class="w"></span>
<span class="linenos">181</span>
<span class="linenos">182</span><span class="nl">expressionStatement</span><span class="p">:</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="p">;</span><span class="w"></span>
<span class="linenos">183</span>
<span class="linenos">184</span><span class="nl">expression</span><span class="w"></span>
<span class="linenos">185</span><span class="w">    </span><span class="c">// include terminator/unary as base cases to simplify parsing</span><span class="w"></span>
<span class="linenos">186</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">expressionTerminator</span><span class="w"></span>
<span class="linenos">187</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">unaryExpression</span><span class="w"></span>
<span class="linenos">188</span><span class="w">    </span><span class="c">// expression hierarchy</span><span class="w"></span>
<span class="linenos">189</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">logicalAndExpression</span><span class="w"></span>
<span class="linenos">190</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="no">DOUBLE_PIPE</span><span class="w"> </span><span class="nv">logicalAndExpression</span><span class="w"></span>
<span class="linenos">191</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">192</span>
<span class="linenos">193</span><span class="c">/**  Expression hierarchy for non-terminators. Adapted from ANTLR4 C</span>
<span class="linenos">194</span><span class="c">  *  grammar: https://github.com/antlr/grammars-v4/blob/master/c/C.g4</span>
<span class="linenos">195</span><span class="c">  * Order (first to last evaluation):</span>
<span class="linenos">196</span><span class="c">    Terminator (including Parens),</span>
<span class="linenos">197</span><span class="c">    Unary Op,</span>
<span class="linenos">198</span><span class="c">    Multiplicative</span>
<span class="linenos">199</span><span class="c">    Additive</span>
<span class="linenos">200</span><span class="c">    Bit Shift</span>
<span class="linenos">201</span><span class="c">    Comparison</span>
<span class="linenos">202</span><span class="c">    Equality</span>
<span class="linenos">203</span><span class="c">    Bit And</span>
<span class="linenos">204</span><span class="c">    Exlusive Or (xOr)</span>
<span class="linenos">205</span><span class="c">    Bit Or</span>
<span class="linenos">206</span><span class="c">    Logical And</span>
<span class="linenos">207</span><span class="c">    Logical Or</span>
<span class="linenos">208</span><span class="c">**/</span><span class="w"></span>
<span class="linenos">209</span>
<span class="linenos">210</span><span class="nl">logicalAndExpression</span><span class="w"></span>
<span class="linenos">211</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">bitOrExpression</span><span class="w"></span>
<span class="linenos">212</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">logicalAndExpression</span><span class="w"> </span><span class="no">DOUBLE_AMPERSAND</span><span class="w"> </span><span class="nv">bitOrExpression</span><span class="w"></span>
<span class="linenos">213</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">214</span>
<span class="linenos">215</span><span class="nl">bitOrExpression</span><span class="w"></span>
<span class="linenos">216</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">xOrExpression</span><span class="w"></span>
<span class="linenos">217</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">bitOrExpression</span><span class="w"> </span><span class="no">PIPE</span><span class="w"> </span><span class="nv">xOrExpression</span><span class="w"></span>
<span class="linenos">218</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">219</span>
<span class="linenos">220</span><span class="nl">xOrExpression</span><span class="w"></span>
<span class="linenos">221</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">bitAndExpression</span><span class="w"></span>
<span class="linenos">222</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">xOrExpression</span><span class="w"> </span><span class="no">CARET</span><span class="w"> </span><span class="nv">bitAndExpression</span><span class="w"></span>
<span class="linenos">223</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">224</span>
<span class="linenos">225</span><span class="nl">bitAndExpression</span><span class="w"></span>
<span class="linenos">226</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">equalityExpression</span><span class="w"></span>
<span class="linenos">227</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">bitAndExpression</span><span class="w"> </span><span class="no">AMPERSAND</span><span class="w"> </span><span class="nv">equalityExpression</span><span class="w"></span>
<span class="linenos">228</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">229</span>
<span class="linenos">230</span><span class="nl">equalityExpression</span><span class="w"></span>
<span class="linenos">231</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">comparisonExpression</span><span class="w"></span>
<span class="linenos">232</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">equalityExpression</span><span class="w"> </span><span class="no">EqualityOperator</span><span class="w"> </span><span class="nv">comparisonExpression</span><span class="w"></span>
<span class="linenos">233</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">234</span>
<span class="linenos">235</span><span class="nl">comparisonExpression</span><span class="w"></span>
<span class="linenos">236</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">bitShiftExpression</span><span class="w"></span>
<span class="linenos">237</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">comparisonExpression</span><span class="w"> </span><span class="no">ComparisonOperator</span><span class="w"> </span><span class="nv">bitShiftExpression</span><span class="w"></span>
<span class="linenos">238</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">239</span>
<span class="linenos">240</span><span class="nl">bitShiftExpression</span><span class="w"></span>
<span class="linenos">241</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">additiveExpression</span><span class="w"></span>
<span class="linenos">242</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">bitShiftExpression</span><span class="w"> </span><span class="no">BitshiftOperator</span><span class="w"> </span><span class="nv">additiveExpression</span><span class="w"></span>
<span class="linenos">243</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">244</span>
<span class="linenos">245</span><span class="nl">additiveExpression</span><span class="w"></span>
<span class="linenos">246</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">multiplicativeExpression</span><span class="w"></span>
<span class="linenos">247</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">additiveExpression</span><span class="w"> </span><span class="o">(</span><span class="no">PLUS</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">MINUS</span><span class="o">)</span><span class="w"> </span><span class="nv">multiplicativeExpression</span><span class="w"></span>
<span class="linenos">248</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">249</span>
<span class="linenos">250</span><span class="nl">multiplicativeExpression</span><span class="w"></span>
<span class="linenos">251</span><span class="w">    </span><span class="c">// base case either terminator or unary</span><span class="w"></span>
<span class="linenos">252</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">unaryExpression</span><span class="w"></span>
<span class="linenos">253</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">multiplicativeExpression</span><span class="w"> </span><span class="o">(</span><span class="no">ASTERISK</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">SLASH</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">PERCENT</span><span class="o">)</span><span class="w"> </span><span class="nv">unaryExpression</span><span class="w"></span>
<span class="linenos">254</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">255</span>
<span class="linenos">256</span><span class="nl">unaryExpression</span><span class="p">:</span><span class="w"> </span><span class="nv">unaryOperator</span><span class="o">?</span><span class="w"> </span><span class="nv">powerExpression</span><span class="p">;</span><span class="w"></span>
<span class="linenos">257</span>
<span class="linenos">258</span><span class="nl">powerExpression</span><span class="w"></span>
<span class="linenos">259</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">indexExpression</span><span class="w"></span>
<span class="linenos">260</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">powerExpression</span><span class="w"> </span><span class="no">DOUBLE_ASTERISK</span><span class="w"> </span><span class="nv">indexExpression</span><span class="w"></span>
<span class="linenos">261</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">262</span>
<span class="linenos">263</span><span class="c">// The general form is a comma-separated list of indexing entities.</span><span class="w"></span>
<span class="linenos">264</span><span class="c">// `discreteSet` is only valid when being used as a single index: registers can</span><span class="w"></span>
<span class="linenos">265</span><span class="c">// support it for creating aliases, but arrays cannot.</span><span class="w"></span>
<span class="linenos">266</span><span class="nl">indexOperator</span><span class="p">:</span><span class="w"></span>
<span class="linenos">267</span><span class="w">    </span><span class="no">LBRACKET</span><span class="w"></span>
<span class="linenos">268</span><span class="w">    </span><span class="o">(</span><span class="w"></span>
<span class="linenos">269</span><span class="w">        </span><span class="nv">discreteSet</span><span class="w"></span>
<span class="linenos">270</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="o">(</span><span class="nv">expression</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">rangeDefinition</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="o">(</span><span class="nv">expression</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">rangeDefinition</span><span class="o">))*</span><span class="w"></span>
<span class="linenos">271</span><span class="w">    </span><span class="o">)</span><span class="w"></span>
<span class="linenos">272</span><span class="w">    </span><span class="no">RBRACKET</span><span class="p">;</span><span class="w"></span>
<span class="linenos">273</span><span class="nl">indexExpression</span><span class="w"></span>
<span class="linenos">274</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">expressionTerminator</span><span class="w"></span>
<span class="linenos">275</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">indexExpression</span><span class="w"> </span><span class="nv">indexOperator</span><span class="w"></span>
<span class="linenos">276</span><span class="p">;</span><span class="w"></span>
<span class="linenos">277</span>
<span class="linenos">278</span><span class="c">// Alternative form to `indexExpression` for cases where an obvious l-value is</span><span class="w"></span>
<span class="linenos">279</span><span class="c">// better grammatically than a generic expression.  Some current uses of this</span><span class="w"></span>
<span class="linenos">280</span><span class="c">// rule may be better as `expression`, leaving the semantic analysis to later</span><span class="w"></span>
<span class="linenos">281</span><span class="c">// (for example in gate calls).</span><span class="w"></span>
<span class="linenos">282</span><span class="nl">indexedIdentifier</span><span class="p">:</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="nv">indexOperator</span><span class="o">*</span><span class="p">;</span><span class="w"></span>
<span class="linenos">283</span>
<span class="linenos">284</span><span class="nl">expressionTerminator</span><span class="w"></span>
<span class="linenos">285</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="no">Constant</span><span class="w"></span>
<span class="linenos">286</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">BinaryIntegerLiteral</span><span class="w"></span>
<span class="linenos">287</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">OctalIntegerLiteral</span><span class="w"></span>
<span class="linenos">288</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">DecimalIntegerLiteral</span><span class="w"></span>
<span class="linenos">289</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">HexIntegerLiteral</span><span class="w"></span>
<span class="linenos">290</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">FloatLiteral</span><span class="w"></span>
<span class="linenos">291</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">ImaginaryLiteral</span><span class="w"></span>
<span class="linenos">292</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">BooleanLiteral</span><span class="w"></span>
<span class="linenos">293</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">BitstringLiteral</span><span class="w"></span>
<span class="linenos">294</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">Identifier</span><span class="w"></span>
<span class="linenos">295</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">builtInCall</span><span class="w"></span>
<span class="linenos">296</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">externOrSubroutineCall</span><span class="w"></span>
<span class="linenos">297</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">timingIdentifier</span><span class="w"></span>
<span class="linenos">298</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="no">RPAREN</span><span class="w"></span>
<span class="linenos">299</span><span class="p">;</span><span class="w"></span>
<span class="linenos">300</span><span class="c">/** End expression hierarchy **/</span><span class="w"></span>
<span class="linenos">301</span>
<span class="linenos">302</span><span class="nl">builtInCall</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="no">BuiltinMath</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">castOperator</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">SIZEOF</span><span class="o">)</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">expressionList</span><span class="w"> </span><span class="no">RPAREN</span><span class="p">;</span><span class="w"></span>
<span class="linenos">303</span>
<span class="linenos">304</span><span class="nl">castOperator</span><span class="p">:</span><span class="w"> </span><span class="nv">classicalType</span><span class="p">;</span><span class="w"></span>
<span class="linenos">305</span>
<span class="linenos">306</span><span class="nl">expressionList</span><span class="p">:</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="nv">expression</span><span class="o">)*</span><span class="p">;</span><span class="w"></span>
<span class="linenos">307</span>
<span class="linenos">308</span><span class="nl">equalsExpression</span><span class="p">:</span><span class="w"> </span><span class="no">EQUALS</span><span class="w"> </span><span class="nv">expression</span><span class="p">;</span><span class="w"></span>
<span class="linenos">309</span><span class="nl">assignmentOperator</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">EQUALS</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">CompoundAssignmentOperator</span><span class="p">;</span><span class="w"></span>
<span class="linenos">310</span>
<span class="linenos">311</span><span class="nl">discreteSet</span><span class="p">:</span><span class="w"> </span><span class="no">LBRACE</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="nv">expression</span><span class="o">)*</span><span class="w"> </span><span class="no">RBRACE</span><span class="p">;</span><span class="w"></span>
<span class="linenos">312</span>
<span class="linenos">313</span><span class="nl">setDeclaration</span><span class="w"></span>
<span class="linenos">314</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">discreteSet</span><span class="w"></span>
<span class="linenos">315</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">LBRACKET</span><span class="w"> </span><span class="nv">rangeDefinition</span><span class="w"> </span><span class="no">RBRACKET</span><span class="w"></span>
<span class="linenos">316</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">Identifier</span><span class="w"></span>
<span class="linenos">317</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">318</span>
<span class="linenos">319</span><span class="nl">programBlock</span><span class="w"></span>
<span class="linenos">320</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="nv">statement</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">controlDirective</span><span class="w"></span>
<span class="linenos">321</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">LBRACE</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="nv">statement</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">controlDirective</span><span class="w"> </span><span class="o">)*</span><span class="w"> </span><span class="no">RBRACE</span><span class="w"></span>
<span class="linenos">322</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">323</span>
<span class="linenos">324</span><span class="nl">branchingStatement</span><span class="p">:</span><span class="w"> </span><span class="no">IF</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="no">RPAREN</span><span class="w"> </span><span class="nv">programBlock</span><span class="w"> </span><span class="o">(</span><span class="no">ELSE</span><span class="w"> </span><span class="nv">programBlock</span><span class="o">)?</span><span class="p">;</span><span class="w"></span>
<span class="linenos">325</span>
<span class="linenos">326</span><span class="nl">loopSignature</span><span class="w"></span>
<span class="linenos">327</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="no">FOR</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="no">IN</span><span class="w"> </span><span class="nv">setDeclaration</span><span class="w"></span>
<span class="linenos">328</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">WHILE</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="no">RPAREN</span><span class="w"></span>
<span class="linenos">329</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">330</span>
<span class="linenos">331</span><span class="nl">loopStatement</span><span class="p">:</span><span class="w"> </span><span class="nv">loopSignature</span><span class="w"> </span><span class="nv">programBlock</span><span class="p">;</span><span class="w"></span>
<span class="linenos">332</span><span class="nl">endStatement</span><span class="p">:</span><span class="w"> </span><span class="no">END</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="p">;</span><span class="w"></span>
<span class="linenos">333</span><span class="nl">returnStatement</span><span class="p">:</span><span class="w"> </span><span class="no">RETURN</span><span class="w"> </span><span class="o">(</span><span class="nv">expression</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumMeasurement</span><span class="o">)?</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="p">;</span><span class="w"></span>
<span class="linenos">334</span>
<span class="linenos">335</span><span class="nl">controlDirective</span><span class="w"></span>
<span class="linenos">336</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="no">BREAK</span><span class="o">|</span><span class="w"> </span><span class="no">CONTINUE</span><span class="o">)</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="w"></span>
<span class="linenos">337</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">endStatement</span><span class="w"></span>
<span class="linenos">338</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">returnStatement</span><span class="w"></span>
<span class="linenos">339</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos">340</span>
<span class="linenos">341</span><span class="nl">externDeclaration</span><span class="p">:</span><span class="w"> </span><span class="no">EXTERN</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">classicalTypeList</span><span class="o">?</span><span class="w"> </span><span class="no">RPAREN</span><span class="w"> </span><span class="nv">returnSignature</span><span class="o">?</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="p">;</span><span class="w"></span>
<span class="linenos">342</span>
<span class="linenos">343</span><span class="c">// if have function call w/ out args, is ambiguous; may get matched as identifier</span><span class="w"></span>
<span class="linenos">344</span><span class="nl">externOrSubroutineCall</span><span class="p">:</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">expressionList</span><span class="o">?</span><span class="w"> </span><span class="no">RPAREN</span><span class="p">;</span><span class="w"></span>
<span class="linenos">345</span>
<span class="linenos">346</span><span class="c">/*** Subroutines ***/</span><span class="w"></span>
<span class="linenos">347</span><span class="nl">subroutineDefinition</span><span class="p">:</span><span class="w"> </span><span class="no">DEF</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">anyTypeArgumentList</span><span class="o">?</span><span class="w"> </span><span class="no">RPAREN</span><span class="w"> </span><span class="nv">returnSignature</span><span class="o">?</span><span class="w"> </span><span class="nv">subroutineBlock</span><span class="p">;</span><span class="w"></span>
<span class="linenos">348</span><span class="nl">subroutineBlock</span><span class="p">:</span><span class="w"> </span><span class="no">LBRACE</span><span class="w"> </span><span class="nv">statement</span><span class="o">*</span><span class="w"> </span><span class="nv">returnStatement</span><span class="o">?</span><span class="w"> </span><span class="no">RBRACE</span><span class="p">;</span><span class="w"></span>
<span class="linenos">349</span>
<span class="linenos">350</span><span class="c">/*** Directives ***/</span><span class="w"></span>
<span class="linenos">351</span><span class="nl">pragma</span><span class="p">:</span><span class="w"> </span><span class="no">PRAGMA</span><span class="w"> </span><span class="no">LBRACE</span><span class="w"> </span><span class="nv">statement</span><span class="o">*</span><span class="w"> </span><span class="no">RBRACE</span><span class="p">;</span><span class="w"></span>
<span class="linenos">352</span>
<span class="linenos">353</span><span class="c">/*** Circuit Timing ***/</span><span class="w"></span>
<span class="linenos">354</span><span class="nl">timingBox</span><span class="p">:</span><span class="w"> </span><span class="no">BOX</span><span class="w"> </span><span class="nv">designator</span><span class="o">?</span><span class="w"> </span><span class="nv">quantumBlock</span><span class="p">;</span><span class="w"></span>
<span class="linenos">355</span><span class="nl">timingIdentifier</span><span class="p">:</span><span class="w"> </span><span class="no">TimingLiteral</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">DURATIONOF</span><span class="w"> </span><span class="no">LPAREN</span><span class="w"> </span><span class="o">(</span><span class="no">Identifier</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">quantumBlock</span><span class="o">)</span><span class="w"> </span><span class="no">RPAREN</span><span class="p">;</span><span class="w"></span>
<span class="linenos">356</span><span class="nl">timingInstruction</span><span class="p">:</span><span class="w"> </span><span class="no">BuiltinTimingInstruction</span><span class="w"> </span><span class="o">(</span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">expressionList</span><span class="o">?</span><span class="w"> </span><span class="no">RPAREN</span><span class="o">)?</span><span class="w">  </span><span class="nv">designator</span><span class="w"> </span><span class="nv">indexedIdentifier</span><span class="w"> </span><span class="o">(</span><span class="no">COMMA</span><span class="w"> </span><span class="nv">indexedIdentifier</span><span class="o">)*</span><span class="p">;</span><span class="w"></span>
<span class="linenos">357</span><span class="nl">timingStatement</span><span class="p">:</span><span class="w"> </span><span class="nv">timingInstruction</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">timingBox</span><span class="p">;</span><span class="w"></span>
<span class="linenos">358</span>
<span class="linenos">359</span><span class="c">/*** Pulse Level Descriptions of Gates and Measurement ***/</span><span class="w"></span>
<span class="linenos">360</span><span class="c">// TODO: Update when pulse grammar is formalized</span><span class="w"></span>
<span class="linenos">361</span><span class="nl">calibration</span><span class="p">:</span><span class="w"> </span><span class="nv">calibrationGrammarDeclaration</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">calibrationDefinition</span><span class="p">;</span><span class="w"></span>
<span class="linenos">362</span><span class="nl">calibrationGrammarDeclaration</span><span class="p">:</span><span class="w"> </span><span class="no">DEFCALGRAMMAR</span><span class="w"> </span><span class="no">StringLiteral</span><span class="w"> </span><span class="no">SEMICOLON</span><span class="p">;</span><span class="w"></span>
<span class="linenos">363</span><span class="c">// For now, the defcal parser just matches anything at all within the braces.</span><span class="w"></span>
<span class="linenos">364</span><span class="nl">calibrationDefinition</span><span class="p">:</span><span class="w"> </span><span class="no">DEFCAL</span><span class="w"> </span><span class="no">Identifier</span><span class="w"> </span><span class="o">(</span><span class="no">LPAREN</span><span class="w"> </span><span class="nv">calibrationArgumentList</span><span class="o">?</span><span class="w"> </span><span class="no">RPAREN</span><span class="o">)?</span><span class="w"> </span><span class="nv">identifierList</span><span class="w"> </span><span class="nv">returnSignature</span><span class="o">?</span><span class="w"> </span><span class="no">LBRACE</span><span class="w"> </span><span class="o">.*?</span><span class="w"> </span><span class="no">RBRACE</span><span class="p">;</span><span class="w"></span>
<span class="linenos">365</span><span class="nl">calibrationArgumentList</span><span class="p">:</span><span class="w"> </span><span class="nv">classicalArgumentList</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">expressionList</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-antlr notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="k">lexer</span><span class="w"> </span><span class="k">grammar</span><span class="w"> </span><span class="nc">qasm3Lexer</span><span class="p">;</span><span class="w"></span>
<span class="linenos">  2</span>
<span class="linenos">  3</span><span class="c">/* Naming conventions in this lexer grammar</span>
<span class="linenos">  4</span><span class="c"> *</span>
<span class="linenos">  5</span><span class="c"> * - Keywords and exact symbols that have only one possible value are written in</span>
<span class="linenos">  6</span><span class="c"> *   all caps.  There is no more information in the parsed text than in the name</span>
<span class="linenos">  7</span><span class="c"> *   of the lexeme.  For example, `INCLUDE` is only ever the string `&#39;include&#39;`.</span>
<span class="linenos">  8</span><span class="c"> *</span>
<span class="linenos">  9</span><span class="c"> * - Lexemes with information in the string form are in PascalCase.  This</span>
<span class="linenos"> 10</span><span class="c"> *   indicates there is more information in the token than just the name.  For</span>
<span class="linenos"> 11</span><span class="c"> *   example, `Identifier` has a payload containing the name of the identifier.</span>
<span class="linenos"> 12</span><span class="c"> */</span><span class="w"></span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="c">/* Language keywords. */</span><span class="w"></span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="nl">OPENQASM</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;OPENQASM&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 17</span><span class="nl">INCLUDE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;include&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 18</span><span class="nl">PRAGMA</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;#pragma&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 19</span><span class="nl">DEFCALGRAMMAR</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;defcalgrammar&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 20</span><span class="nl">DEF</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;def&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 21</span><span class="nl">DEFCAL</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;defcal&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 22</span><span class="nl">GATE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;gate&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 23</span><span class="nl">EXTERN</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;extern&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 24</span><span class="nl">BOX</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;box&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 25</span><span class="nl">LET</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;let&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span><span class="nl">BREAK</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;break&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 28</span><span class="nl">CONTINUE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;continue&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 29</span><span class="nl">IF</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;if&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 30</span><span class="nl">ELSE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;else&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 31</span><span class="nl">END</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;end&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 32</span><span class="nl">RETURN</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;return&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 33</span><span class="nl">FOR</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;for&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 34</span><span class="nl">WHILE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;while&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 35</span><span class="nl">IN</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;in&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 36</span>
<span class="linenos"> 37</span>
<span class="linenos"> 38</span>
<span class="linenos"> 39</span><span class="c">/* Types. */</span><span class="w"></span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span><span class="nl">INPUT</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;input&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 42</span><span class="nl">OUTPUT</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;output&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 43</span><span class="nl">CONST</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;const&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 44</span><span class="nl">MUTABLE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;mutable&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span><span class="nl">QREG</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;qreg&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 47</span><span class="nl">QUBIT</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;qubit&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 48</span>
<span class="linenos"> 49</span><span class="nl">CREG</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;creg&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 50</span><span class="nl">BOOL</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;bool&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 51</span><span class="nl">BIT</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;bit&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 52</span><span class="nl">INT</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;int&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 53</span><span class="nl">UINT</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;uint&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 54</span><span class="nl">FLOAT</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;float&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 55</span><span class="nl">ANGLE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;angle&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 56</span><span class="nl">COMPLEX</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;complex&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 57</span><span class="nl">ARRAY</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;array&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span><span class="nl">DURATION</span><span class="p">:</span><span class="w">  </span><span class="s1">&#39;duration&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 60</span><span class="nl">STRETCH</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;stretch&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 61</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span><span class="c">/* Builtin identifiers and operations */</span><span class="w"></span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span><span class="nl">U_</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;U&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 66</span><span class="nl">CX</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;CX&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 67</span>
<span class="linenos"> 68</span><span class="nl">GPHASE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;gphase&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 69</span><span class="nl">INV</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;inv&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 70</span><span class="nl">POW</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;pow&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 71</span><span class="nl">CTRL</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;ctrl&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 72</span><span class="nl">NEGCTRL</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;negctrl&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 73</span>
<span class="linenos"> 74</span><span class="nl">DIM</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;#dim&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 75</span><span class="nl">SIZEOF</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;sizeof&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span><span class="nl">BuiltinMath</span><span class="w"></span>
<span class="linenos"> 78</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;arccos&#39;</span><span class="w"></span>
<span class="linenos"> 79</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;arcsin&#39;</span><span class="w"></span>
<span class="linenos"> 80</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;arctan&#39;</span><span class="w"></span>
<span class="linenos"> 81</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;cos&#39;</span><span class="w"></span>
<span class="linenos"> 82</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;exp&#39;</span><span class="w"></span>
<span class="linenos"> 83</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;ln&#39;</span><span class="w"></span>
<span class="linenos"> 84</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;popcount&#39;</span><span class="w"></span>
<span class="linenos"> 85</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;rotl&#39;</span><span class="w"></span>
<span class="linenos"> 86</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;rotr&#39;</span><span class="w"></span>
<span class="linenos"> 87</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;sin&#39;</span><span class="w"></span>
<span class="linenos"> 88</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;sqrt&#39;</span><span class="w"></span>
<span class="linenos"> 89</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;tan&#39;</span><span class="w"></span>
<span class="linenos"> 90</span><span class="w">    </span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 91</span><span class="nl">DURATIONOF</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;durationof&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 92</span><span class="nl">BuiltinTimingInstruction</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;delay&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;rotary&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 93</span>
<span class="linenos"> 94</span><span class="nl">RESET</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;reset&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 95</span><span class="nl">MEASURE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;measure&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 96</span><span class="nl">BARRIER</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;barrier&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 97</span>
<span class="linenos"> 98</span><span class="nl">BooleanLiteral</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;true&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;false&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 99</span>
<span class="linenos">100</span>
<span class="linenos">101</span><span class="c">/* Symbols */</span><span class="w"></span>
<span class="linenos">102</span>
<span class="linenos">103</span><span class="nl">LBRACKET</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;[&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">104</span><span class="nl">RBRACKET</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;]&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">105</span><span class="nl">LBRACE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;{&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">106</span><span class="nl">RBRACE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;}&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">107</span><span class="nl">LPAREN</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;(&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">108</span><span class="nl">RPAREN</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;)&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">109</span>
<span class="linenos">110</span><span class="nl">COLON</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;:&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">111</span><span class="nl">SEMICOLON</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">112</span>
<span class="linenos">113</span><span class="nl">DOT</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">114</span><span class="nl">COMMA</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">115</span>
<span class="linenos">116</span><span class="nl">EQUALS</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;=&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">117</span><span class="nl">ARROW</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;-&gt;&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">118</span><span class="nl">PLUS</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;+&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">119</span><span class="nl">DOUBLE_PLUS</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;++&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">120</span><span class="nl">MINUS</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">121</span><span class="nl">ASTERISK</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;*&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">122</span><span class="nl">DOUBLE_ASTERISK</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;**&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">123</span><span class="nl">SLASH</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">124</span><span class="nl">PERCENT</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;%&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">125</span><span class="nl">PIPE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;|&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">126</span><span class="nl">DOUBLE_PIPE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;||&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">127</span><span class="nl">AMPERSAND</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;&amp;&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">128</span><span class="nl">DOUBLE_AMPERSAND</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;&amp;&amp;&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">129</span><span class="nl">CARET</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;^&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">130</span><span class="nl">AT</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;@&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">131</span><span class="nl">TILDE</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;~&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">132</span><span class="nl">EXCLAMATION_POINT</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;!&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">133</span>
<span class="linenos">134</span><span class="c">/* There is no lexer rule for &#39;UnaryOperator&#39; (~, ! or -) because the MINUS</span>
<span class="linenos">135</span><span class="c"> * lexeme is context-dependent as to whether it is unary or binary.</span>
<span class="linenos">136</span><span class="c"> */</span><span class="w"></span>
<span class="linenos">137</span><span class="nl">EqualityOperator</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;==&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;!=&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">138</span><span class="nl">CompoundAssignmentOperator</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;+=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;-=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;*=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;/=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;&amp;=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;|=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;~=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;^=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;&lt;&lt;=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;&gt;&gt;=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;%=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;**=&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">139</span><span class="nl">ComparisonOperator</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;&gt;&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;&lt;&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;&gt;=&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;&lt;=&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">140</span><span class="nl">BitshiftOperator</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;&gt;&gt;&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;&lt;&lt;&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">141</span>
<span class="linenos">142</span><span class="nl">IMAG</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;im&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">143</span><span class="nl">ImaginaryLiteral</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="no">DecimalIntegerLiteral</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">FloatLiteral</span><span class="o">)</span><span class="w"> </span><span class="no">IMAG</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="linenos">144</span>
<span class="linenos">145</span><span class="nl">Constant</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="s1">&#39;pi&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;Ï&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;tau&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;ð&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;euler&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;â&#39;</span><span class="o">)</span><span class="p">;</span><span class="w"></span>
<span class="linenos">146</span>
<span class="linenos">147</span><span class="nl">BinaryIntegerLiteral</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="s1">&#39;0b&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;0B&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="p">[</span><span class="x">01</span><span class="p">]</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="o">?)*</span><span class="w"> </span><span class="p">[</span><span class="x">01</span><span class="p">];</span><span class="w"></span>
<span class="linenos">148</span><span class="nl">OctalIntegerLiteral</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;0o&#39;</span><span class="w"> </span><span class="o">(</span><span class="p">[</span><span class="x">0-7</span><span class="p">]</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="o">?)*</span><span class="w"> </span><span class="p">[</span><span class="x">0-7</span><span class="p">];</span><span class="w"></span>
<span class="linenos">149</span><span class="nl">DecimalIntegerLiteral</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="p">[</span><span class="x">0-9</span><span class="p">]</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="o">?)*</span><span class="w"> </span><span class="p">[</span><span class="x">0-9</span><span class="p">];</span><span class="w"></span>
<span class="linenos">150</span><span class="nl">HexIntegerLiteral</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="s1">&#39;0x&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;0X&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="p">[</span><span class="x">0-9a-fA-F</span><span class="p">]</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="o">?)*</span><span class="w"> </span><span class="p">[</span><span class="x">0-9a-fA-F</span><span class="p">];</span><span class="w"></span>
<span class="linenos">151</span>
<span class="linenos">152</span><span class="k">fragment</span><span class="w"> </span><span class="nl">ValidUnicode</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="x">\p{Lu}\p{Ll}\p{Lt}\p{Lm}\p{Lo}\p{Nl}</span><span class="p">];</span><span class="w"> </span><span class="c">// valid unicode chars</span><span class="w"></span>
<span class="linenos">153</span><span class="k">fragment</span><span class="w"> </span><span class="nl">Letter</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="x">A-Za-z</span><span class="p">];</span><span class="w"></span>
<span class="linenos">154</span><span class="k">fragment</span><span class="w"> </span><span class="nl">FirstIdCharacter</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;$&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">ValidUnicode</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">Letter</span><span class="p">;</span><span class="w"></span>
<span class="linenos">155</span><span class="k">fragment</span><span class="w"> </span><span class="nl">GeneralIdCharacter</span><span class="p">:</span><span class="w"> </span><span class="no">FirstIdCharacter</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">[</span><span class="x">0-9</span><span class="p">];</span><span class="w"></span>
<span class="linenos">156</span>
<span class="linenos">157</span><span class="nl">Identifier</span><span class="p">:</span><span class="w"> </span><span class="no">FirstIdCharacter</span><span class="w"> </span><span class="no">GeneralIdCharacter</span><span class="o">*</span><span class="p">;</span><span class="w"></span>
<span class="linenos">158</span>
<span class="linenos">159</span><span class="k">fragment</span><span class="w"> </span><span class="nl">FloatLiteralExponent</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="x">eE</span><span class="p">]</span><span class="w"> </span><span class="o">(</span><span class="no">PLUS</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">MINUS</span><span class="o">)?</span><span class="w"> </span><span class="no">DecimalIntegerLiteral</span><span class="p">;</span><span class="w"></span>
<span class="linenos">160</span><span class="nl">FloatLiteral</span><span class="p">:</span><span class="w"></span>
<span class="linenos">161</span><span class="w">    </span><span class="c">// 1_123e-3, 123e+4 or 123E5 (needs the exponent or it&#39;s just an integer)</span><span class="w"></span>
<span class="linenos">162</span><span class="w">    </span><span class="no">DecimalIntegerLiteral</span><span class="w"> </span><span class="no">FloatLiteralExponent</span><span class="w"></span>
<span class="linenos">163</span><span class="w">    </span><span class="c">// .1234_5678 or .1e3 (no digits before the dot)</span><span class="w"></span>
<span class="linenos">164</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">DOT</span><span class="w"> </span><span class="no">DecimalIntegerLiteral</span><span class="w"> </span><span class="no">FloatLiteralExponent</span><span class="o">?</span><span class="w"></span>
<span class="linenos">165</span><span class="w">    </span><span class="c">// 123.456, 123. or 145.32e+1_00</span><span class="w"></span>
<span class="linenos">166</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="no">DecimalIntegerLiteral</span><span class="w"> </span><span class="no">DOT</span><span class="w"> </span><span class="no">DecimalIntegerLiteral</span><span class="o">?</span><span class="w"> </span><span class="no">FloatLiteralExponent</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="linenos">167</span>
<span class="linenos">168</span><span class="k">fragment</span><span class="w"> </span><span class="nl">TimeUnit</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;dt&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;ns&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;us&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;Âµs&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;ms&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;s&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">169</span><span class="c">// represents explicit time value in SI or backend units</span><span class="w"></span>
<span class="linenos">170</span><span class="nl">TimingLiteral</span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="no">DecimalIntegerLiteral</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">FloatLiteral</span><span class="o">)</span><span class="w"> </span><span class="no">TimeUnit</span><span class="p">;</span><span class="w"></span>
<span class="linenos">171</span>
<span class="linenos">172</span>
<span class="linenos">173</span><span class="nl">BitstringLiteral</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;&quot;&#39;</span><span class="w"> </span><span class="o">(</span><span class="p">[</span><span class="x">01</span><span class="p">]</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="o">?)*</span><span class="w"> </span><span class="p">[</span><span class="x">01</span><span class="p">]</span><span class="w"> </span><span class="s1">&#39;&quot;&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">174</span><span class="c">// allow ``&quot;str&quot;`` and ``&#39;str&#39;``</span><span class="w"></span>
<span class="linenos">175</span><span class="nl">StringLiteral</span><span class="w"></span>
<span class="linenos">176</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;&quot;&#39;</span><span class="w"> </span><span class="o">~</span><span class="p">[</span><span class="x">&quot;\r\t\n]+? &#39;&quot;&#39;</span>
<span class="linenos">177</span><span class="x">    | &#39;\&#39;&#39; ~</span><span class="p">[</span><span class="x">&#39;\r\t\n]+? &#39;\&#39;&#39;</span>
<span class="linenos">178</span><span class="x">    ;</span>
<span class="linenos">179</span>
<span class="linenos">180</span><span class="x">// Ignore whitespace between tokens, and define C++-style comments.</span>
<span class="linenos">181</span><span class="x">Whitespace: </span><span class="p">[</span><span class="x"> \t</span><span class="p">]</span><span class="x">+ -&gt; skip ;</span>
<span class="linenos">182</span><span class="x">Newline: </span><span class="p">[</span><span class="x">\r\n</span><span class="p">]</span><span class="x">+ -&gt; skip ;</span>
<span class="linenos">183</span><span class="x">LineComment : &#39;//&#39; ~</span><span class="p">[</span><span class="x">\r\n</span><span class="p">]</span><span class="x">* -&gt; skip;</span>
<span class="linenos">184</span><span class="x">BlockComment : &#39;/*&#39; .*? &#39;*/&#39; -&gt; skip;</span>
</pre></div>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">OpenQASM Live Specification</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/index.html">Language</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">OpenQasm 3.0 Grammar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../language/openpulse.html" title="previous chapter">OpenPulse Grammar</a></li>
      <li>Next: <a href="../release_notes.html" title="next chapter">Release Notes</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017-2020, Andrew W. Cross, Lev S. Bishop, John A. Smolin, Jay M. Gambetta.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/grammar/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>